<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
    th:replace="~{/views/layout::dynamic(~{::body})}">
<head>
    <meta charset="UTF-8">
    <title>Book Car</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/views/css/style.css">
</head>
<body>
    <!-- Navbar -->
    <div th:replace="views/layout/navbar :: nav"></div>

    <!-- Hero Section -->
    <div class="hero-wrap" style="background-image: url('/images/car-5.jpg');" data-stellar-background-ratio="0.5">
        <div class="overlay"></div>
        <div class="container text-center">
            <h1 class="mb-4">Fast &amp; Easy Way To Rent A Car</h1>
            <p class="lead">Experience a seamless way to rent cars at affordable prices.</p>
        </div>
    </div>

    <!-- Car Information Section -->
    <div class="container mt-5">
        <h1>Car Information</h1>
        <table class="table table-striped table-bordered mt-4">
            <thead class="thead-dark">
                <tr>
                    <th>Car Name</th>
                    <th>Car Brand</th>
                    <th>Color</th>
                    <th>Address</th>
                    <th>Price/Day</th>
                    <th>Image</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td th:text="${car.carName}"></td>
                    <td th:text="${car.carBrand != null ? car.carBrand.brandName : 'N/A'}"></td>
                    <td th:text="${car.color}"></td>
                    <td th:text="${car.address}"></td>
                    <td th:text="${car.priceHoursCar}"></td>
                    <td>
                        <img th:if="${car.imageCar != null}" 
                             th:src="@{/images/{car.imageCar.image1}(car.imageCar.image1=${car.imageCar.image1})}" 
                             alt="Car Image" class="img-thumbnail" style="width: 100px; height: auto;">
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Booking Form -->
    <div class="container mt-5">
        <h2>Book Car</h2>

        <!-- Success Message -->
        <div th:if="${successMessage}" class="alert alert-success">
            <p th:text="${successMessage}"></p>
        </div>

        <form th:action="@{/booking/submit}" method="post" th:object="${booking}" enctype="multipart/form-data">
            <input type="hidden" th:field="*{carID}" readonly />

            <!-- Customer Name -->
            <div class="mb-3">
                <label for="customerName" class="form-label">Customer Name</label>
                <input type="text" class="form-control" id="customerName" th:field="*{customerName}" required>
            </div>

            <!-- Rental Dates -->
            <div class="mb-3">
                <label for="rentalStart" class="form-label">Rental Start Date</label>
                <input type="date" class="form-control" id="rentalStart" th:field="*{rentalDay}" required>
            </div>
            <div class="mb-3">
                <label for="rentalEnd" class="form-label">Rental End Date</label>
                <input type="date" class="form-control" id="rentalEnd" th:field="*{returnDay}" required>
            </div>

            <!-- Phone Number -->
            <div class="mb-3">
                <label for="phoneNumber" class="form-label">Phone Number</label>
                <input type="tel" class="form-control" id="phoneNumber" th:field="*{phoneNumber}" required>
            </div>

            <!-- Address -->
            <div class="mb-3">
                <label for="address" class="form-label">Address</label>
                <input type="text" class="form-control" id="address" th:field="*{address}" required>
            </div>

            <!-- Ownership Documents -->
            <div class="mb-3">
                <label>Ownership Documents (3 Images)</label>
                <div class="row">
                    <div class="col-md-4">
                        <label for="image1" class="form-label">Document 1 (CCCD1)</label>
                        <input type="file" class="form-control" id="image1" name="" required>
                    </div>
                    <div class="col-md-4">
                        <label for="image2" class="form-label">Document 2 (CCCD2)</label>
                        <input type="file" class="form-control" id="image2" name="" required>
                    </div>
                    <div class="col-md-4">
                        <label for="image3" class="form-label">Document 3 (GPLX)</label>
                        <input type="file" class="form-control" id="image3" name="" required>
                    </div>
                </div>
            </div>

            <!-- Submit Button -->
            <button type="submit" class="btn btn-primary">Confirm Booking</button>
        </form>
    </div>

    <!-- Footer -->
    <footer class="mt-5 bg-dark text-white text-center py-4">
        <p>&copy; 2024 CarBook. All rights reserved.</p>
    </footer>
</body>
</html>
